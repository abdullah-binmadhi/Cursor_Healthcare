<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Data Test</title>
</head>
<body>
    <h1>Healthcare Dashboard Data Test</h1>
    <div id="test-results"></div>
    
    <script>
        async function testDataLoading() {
            const results = document.getElementById('test-results');
            
            try {
                // Test physician data
                const physiciansResponse = await fetch('data/physician_performance.csv');
                const physiciansText = await physiciansResponse.text();
                const physiciansLines = physiciansText.trim().split('\n');
                
                // Test financial data
                const financialResponse = await fetch('data/financial_performance.csv');
                const financialText = await financialResponse.text();
                const financialLines = financialText.trim().split('\n');
                
                // Test department data
                const departmentResponse = await fetch('data/department_metrics.csv');
                const departmentText = await departmentResponse.text();
                const departmentLines = departmentText.trim().split('\n');
                
                // Display results
                results.innerHTML = `
                    <h2>✅ Data Loading Test Results</h2>
                    <p><strong>Physicians:</strong> ${physiciansLines.length - 1} records loaded</p>
                    <p><strong>Financial:</strong> ${financialLines.length - 1} records loaded</p>
                    <p><strong>Departments:</strong> ${departmentLines.length - 1} records loaded</p>
                    <p><strong>Status:</strong> All data files loaded successfully!</p>
                    
                    <h3>Sample Physician Data:</h3>
                    <pre>${physiciansLines.slice(0, 3).join('\n')}</pre>
                    
                    <h3>Sample Financial Data:</h3>
                    <pre>${financialLines.slice(0, 3).join('\n')}</pre>
                    
                    <p><a href="dashboards.html">← Back to Dashboard</a></p>
                `;
                
            } catch (error) {
                results.innerHTML = `
                    <h2>❌ Data Loading Error</h2>
                    <p><strong>Error:</strong> ${error.message}</p>
                    <p><strong>Solution:</strong> Make sure you're running a local server (not opening file:// directly)</p>
                    <p><strong>Command:</strong> python -m http.server 8080</p>
                    <p><a href="dashboards.html">← Back to Dashboard</a></p>
                `;
            }
        }
        
        // Run test when page loads
        testDataLoading();
    </script>
</body>
</html>