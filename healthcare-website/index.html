<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HealthCare Analytics - Modern Platform v3.0</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #2d3748;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 1rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 1.5rem;
            font-weight: 800;
            color: #667eea;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-link {
            text-decoration: none;
            color: #4a5568;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-link:hover, .nav-link.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
        }

        .container {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .hero-section {
            text-align: center;
            margin-bottom: 3rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 3rem 2rem;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: rgba(255,255,255,0.9);
            margin-bottom: 2rem;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .section {
            margin-bottom: 4rem;
            display: none;
        }

        .section.active {
            display: block;
        }

        .section-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 3rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 1rem;
            text-align: center;
        }

        .section-subtitle {
            font-size: 1.1rem;
            color: #6b7280;
            text-align: center;
            margin-bottom: 3rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: start;
        }

        .form-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .form-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .form-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #374151;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 15px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .results-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 2rem;
            border-radius: 20px;
            margin-top: 2rem;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 1rem;
        }

        .feature-description {
            color: #6b7280;
            line-height: 1.6;
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .cost-item.total {
            font-size: 1.2rem;
            font-weight: 700;
            border-bottom: none;
        }

        .doctor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .doctor-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .doctor-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .kpi-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .kpi-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
        }

        .kpi-icon {
            font-size: 1.5rem;
            padding: 0.5rem;
            border-radius: 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .kpi-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: #1a202c;
            margin-bottom: 0.5rem;
        }

        .kpi-trend {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            font-weight: 600;
            color: #10b981;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 2rem;
        }

        .chart-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 2rem;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f1f5f9;
        }

        .chart-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1a202c;
        }

        .chart-controls select {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 0.75rem 1rem;
            font-weight: 600;
            color: #374151;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chart-controls select:hover {
            border-color: #667eea;
        }

        .year-tabs {
            display: flex;
            gap: 0.5rem;
        }

        .year-tab {
            background: rgba(255, 255, 255, 0.7);
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .year-tab:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: #667eea;
            color: #667eea;
            transform: translateY(-2px);
        }

        .year-tab.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: #667eea;
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .chart-canvas {
            position: relative;
            height: 400px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 20px;
            padding: 1rem;
        }

        .form-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .form-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .form-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #f1f5f9;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.875rem 1.25rem;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: rgba(255, 255, 255, 1);
        }

        .form-group input:hover,
        .form-group select:hover {
            border-color: #9ca3af;
        }

        .results-card {
            background: rgba(102, 126, 234, 0.05);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .cost-breakdown {
            margin-bottom: 1.5rem;
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(102, 126, 234, 0.1);
        }

        .cost-item.total {
            font-weight: 700;
            font-size: 1.1rem;
            border-bottom: 2px solid #667eea;
            color: #667eea;
        }

        .cost-label {
            color: #4a5568;
            font-weight: 600;
        }

        .cost-value {
            color: #1a202c;
            font-weight: 700;
        }

        .cost-factors h4 {
            color: #667eea;
            margin-bottom: 0.75rem;
            font-size: 1rem;
        }

        .cost-factors ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .cost-factors li {
            padding: 0.5rem 0;
            color: #4a5568;
            border-left: 3px solid #667eea;
            padding-left: 1rem;
            margin-bottom: 0.5rem;
            background: rgba(102, 126, 234, 0.03);
            border-radius: 0 8px 8px 0;
        }

        .doctor-grid {
            display: grid;
            gap: 1rem;
            max-height: 500px;
            overflow-y: auto;
        }

        .doctor-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }

        .doctor-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .doctor-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .doctor-name {
            font-weight: 700;
            color: #1a202c;
            font-size: 1.1rem;
        }

        .doctor-specialty {
            color: #667eea;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .doctor-rating {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            color: #f59e0b;
            font-weight: 600;
        }

        .doctor-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: #6b7280;
        }

        .results-header {
            padding: 1rem 0;
            border-bottom: 2px solid #f1f5f9;
            margin-bottom: 1rem;
            font-weight: 600;
            color: #374151;
        }

        .value-propositions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        .value-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .value-card:hover {
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
        }

        .value-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .value-card:nth-child(1) .value-icon {
            color: #10b981; /* Green for Affordable Care */
        }

        .value-card:nth-child(2) .value-icon {
            color: #3b82f6; /* Blue for Trusted Doctors */
        }

        .value-card:nth-child(3) .value-icon {
            color: #667eea; /* Purple for Transparent Costs */
        }

        .value-card:nth-child(4) .value-icon {
            color: #f59e0b; /* Orange for Data-Driven Insights */
        }

        .value-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 0.75rem;
        }

        .value-description {
            color: #4a5568;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .hero-title { font-size: 2.5rem; }
            .form-grid { grid-template-columns: 1fr; }
            .chart-grid { grid-template-columns: 1fr; }
            .kpi-grid { grid-template-columns: 1fr; }
            .value-propositions { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; }
            .doctor-details { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-heartbeat"></i>
                <span>HealthCare Analytics</span>
            </div>
            <nav class="nav-links">
                <a href="#" class="nav-link active" onclick="showSection('home')">Home</a>
                <a href="#" class="nav-link" onclick="showSection('cost-estimator')">Cost Estimator</a>
                <a href="#" class="nav-link" onclick="showSection('doctor-finder')">Find Doctors</a>
                <a href="#" class="nav-link" onclick="showSection('analytics')">Analytics</a>
                <a href="#" class="nav-link" onclick="showSection('about')">About</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- Home/Hero Section -->
        <section id="home" class="section active">
            <div class="hero-section">
                <h1 class="hero-title">Healthcare Made Transparent</h1>
                <p class="hero-subtitle">Modern healthcare analytics platform with cost estimation, physician discovery, and real-time insights</p>
                <div class="value-propositions">
                    <div class="value-card">
                        <i class="fas fa-hand-holding-usd value-icon"></i>
                        <h3 class="value-title">Affordable Care</h3>
                        <p class="value-description">Get accurate cost estimates upfront, compare prices, and find the most affordable healthcare options without surprises.</p>
                    </div>
                    
                    <div class="value-card">
                        <i class="fas fa-user-md value-icon"></i>
                        <h3 class="value-title">Trusted Doctors</h3>
                        <p class="value-description">Access verified physician profiles with real patient ratings, performance metrics, and success rates to make informed choices.</p>
                    </div>
                    
                    <div class="value-card">
                        <i class="fas fa-receipt value-icon"></i>
                        <h3 class="value-title">Transparent Costs</h3>
                        <p class="value-description">No hidden fees or billing surprises. See exact procedure costs, insurance coverage, and your out-of-pocket expenses clearly.</p>
                    </div>
                    
                    <div class="value-card">
                        <i class="fas fa-chart-line value-icon"></i>
                        <h3 class="value-title">Data-Driven Insights</h3>
                        <p class="value-description">Make healthcare decisions backed by real-time analytics, performance data, and comprehensive market insights.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Healthcare Cost Estimator -->
        <section id="cost-estimator" class="section">
            <div class="section-card">
                <h2 class="section-title"><i class="fas fa-calculator"></i> Healthcare Cost Estimator</h2>
                <p class="section-subtitle">Get transparent pricing for medical procedures and plan your healthcare budget</p>

                <div class="form-grid">
                    <div class="form-card">
                        <h3 class="form-title">Patient Information</h3>
                        <form id="costEstimatorForm">
                            <div class="form-group">
                                <label for="patientAge">Age</label>
                                <input type="number" id="patientAge" min="1" max="120" required>
                            </div>

                            <div class="form-group">
                                <label for="insuranceType">Insurance Type</label>
                                <select id="insuranceType" required>
                                    <option value="">Select Insurance</option>
                                    <option value="medicare">Medicare</option>
                                    <option value="medicaid">Medicaid</option>
                                    <option value="private">Private Insurance</option>
                                    <option value="self-pay">Self-Pay</option>
                                    <option value="commercial">Commercial</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="department">Department</label>
                                <select id="department" required>
                                    <option value="">Select Department</option>
                                    <option value="Cardiology">Cardiology</option>
                                    <option value="Emergency">Emergency</option>
                                    <option value="Surgery">Surgery</option>
                                    <option value="Orthopedics">Orthopedics</option>
                                    <option value="Neurology">Neurology</option>
                                    <option value="Pediatrics">Pediatrics</option>
                                    <option value="Oncology">Oncology</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="procedure">Procedure Type</label>
                                <select id="procedure" required>
                                    <option value="">Select Procedure</option>
                                    <option value="consultation">Consultation</option>
                                    <option value="diagnostic">Diagnostic Test</option>
                                    <option value="minor-surgery">Minor Surgery</option>
                                    <option value="major-surgery">Major Surgery</option>
                                    <option value="emergency-visit">Emergency Visit</option>
                                    <option value="follow-up">Follow-up Visit</option>
                                </select>
                            </div>

                            <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                                <i class="fas fa-calculator"></i> Calculate Estimate
                            </button>
                        </form>
                    </div>

                    <div class="form-card">
                        <h3 class="form-title">Cost Estimation Results</h3>
                        <div class="results-card" id="costResults" style="display: none;">
                            <div class="cost-breakdown">
                                <div class="cost-item">
                                    <span class="cost-label">Estimated Cost:</span>
                                    <span class="cost-value" id="estimatedCost">$0</span>
                                </div>
                                <div class="cost-item">
                                    <span class="cost-label">Insurance Coverage:</span>
                                    <span class="cost-value" id="insuranceCoverage">$0</span>
                                </div>
                                <div class="cost-item total">
                                    <span class="cost-label">Your Estimated Cost:</span>
                                    <span class="cost-value" id="patientCost">$0</span>
                                </div>
                                <div class="cost-item">
                                    <span class="cost-label">Estimated Length of Stay:</span>
                                    <span class="cost-value" id="lengthOfStay">-</span>
                                </div>
                            </div>
                            <div class="cost-factors">
                                <h4>Factors Affecting Cost:</h4>
                                <ul id="costFactors"></ul>
                            </div>
                        </div>
                        <div id="costResultsPlaceholder" style="text-align: center; color: #6b7280; padding: 3rem;">
                            <i class="fas fa-calculator" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.3;"></i>
                            <p>Enter patient information and click "Calculate Estimate" to see results</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Doctor Finder -->
        <section id="doctor-finder" class="section">
            <div class="section-card">
                <h2 class="section-title"><i class="fas fa-user-md"></i> Doctor Finder & Ratings</h2>
                <p class="section-subtitle">Find qualified physicians with performance metrics and patient satisfaction scores</p>

                <div class="form-grid">
                    <div class="form-card">
                        <h3 class="form-title">Search Filters</h3>
                        <div class="form-group">
                            <label for="specialtyFilter">Specialty</label>
                            <select id="specialtyFilter">
                                <option value="">All Specialties</option>
                                <option value="Cardiology">Cardiology</option>
                                <option value="Emergency Medicine">Emergency Medicine</option>
                                <option value="Surgery">Surgery</option>
                                <option value="Orthopedics">Orthopedics</option>
                                <option value="Neurology">Neurology</option>
                                <option value="Pediatrics">Pediatrics</option>
                                <option value="Oncology">Oncology</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="hospitalFilter">Hospital</label>
                            <select id="hospitalFilter">
                                <option value="">All Hospitals</option>
                                <option value="City General Hospital">City General Hospital</option>
                                <option value="St. Mary's Medical Center">St. Mary's Medical Center</option>
                                <option value="University Health System">University Health System</option>
                                <option value="Memorial Hospital">Memorial Hospital</option>
                                <option value="Regional Medical Center">Regional Medical Center</option>
                                <option value="Community Health Hospital">Community Health Hospital</option>
                                <option value="Metropolitan Medical Center">Metropolitan Medical Center</option>
                                <option value="Riverside Hospital">Riverside Hospital</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="ratingFilter">Minimum Rating</label>
                            <select id="ratingFilter">
                                <option value="0">Any Rating</option>
                                <option value="3">3+ Stars</option>
                                <option value="4">4+ Stars</option>
                                <option value="4.5">4.5+ Stars</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="availabilityFilter">Availability</label>
                            <select id="availabilityFilter">
                                <option value="">Any Availability</option>
                                <option value="available">Available This Week</option>
                                <option value="limited">Limited Availability</option>
                            </select>
                        </div>

                        <button onclick="searchDoctors()" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                            <i class="fas fa-search"></i> Search Doctors
                        </button>
                    </div>

                    <div class="form-card">
                        <h3 class="form-title">Doctor Search Results</h3>
                        <div class="results-header">
                            <span id="doctorCount">0 doctors found</span>
                        </div>
                        <div id="doctorList" class="doctor-grid">
                            <!-- Doctor cards will be populated here -->
                        </div>
                        <div id="doctorResultsPlaceholder" style="text-align: center; color: #6b7280; padding: 3rem;">
                            <i class="fas fa-user-md" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.3;"></i>
                            <p>Use the filters and click "Search Doctors" to find physicians</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Dashboard -->
        <section id="analytics" class="section">
            <div class="section-card">
                <h2 class="section-title"><i class="fas fa-chart-bar"></i> Healthcare Analytics Dashboard</h2>
                <p class="section-subtitle">Professional healthcare insights and data visualization</p>

                <!-- KPI Cards -->
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-title">Total Revenue</div>
                            <div class="kpi-icon"><i class="fas fa-dollar-sign"></i></div>
                        </div>
                        <div class="kpi-value" id="totalRevenue">Loading...</div>
                        <div class="kpi-trend"><i class="fas fa-arrow-up"></i> +12.5% vs last month</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-title">Patient Satisfaction</div>
                            <div class="kpi-icon"><i class="fas fa-smile"></i></div>
                        </div>
                        <div class="kpi-value" id="avgSatisfaction">Loading...</div>
                        <div class="kpi-trend"><i class="fas fa-arrow-up"></i> +0.3 vs last month</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-title">Occupancy Rate</div>
                            <div class="kpi-icon"><i class="fas fa-bed"></i></div>
                        </div>
                        <div class="kpi-value" id="occupancyRate">Loading...</div>
                        <div class="kpi-trend"><i class="fas fa-minus"></i> -1.2% vs last month</div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-header">
                            <div class="kpi-title">Quality Score</div>
                            <div class="kpi-icon"><i class="fas fa-shield-alt"></i></div>
                        </div>
                        <div class="kpi-value" id="qualityScore">Loading...</div>
                        <div class="kpi-trend"><i class="fas fa-arrow-up"></i> +2.1% vs last month</div>
                    </div>
                </div>

                <!-- Charts Grid -->
                <div class="chart-grid">
                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">🏥 Department Performance</div>
                            <div class="chart-controls">
                                <select id="performanceMetric">
                                    <option value="satisfaction">Patient Satisfaction</option>
                                    <option value="revenue">Revenue</option>
                                    <option value="occupancy">Occupancy Rate</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="departmentChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">📈 Performance Trends</div>
                            <div class="chart-controls">
                                <div class="year-tabs">
                                    <button class="year-tab active" data-year="2024" onclick="changeTrendsYear(2024)">2024</button>
                                    <button class="year-tab" data-year="2023" onclick="changeTrendsYear(2023)">2023</button>
                                    <button class="year-tab" data-year="2022" onclick="changeTrendsYear(2022)">2022</button>
                                </div>
                            </div>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="trendsChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">🎯 Quality Metrics</div>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="qualityChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <div class="chart-title">🏆 Top Performing Physicians</div>
                            <div class="chart-controls">
                                <select id="physicianSpecialty" onchange="updatePhysiciansChart()">
                                    <option value="all">All Specialties</option>
                                    <option value="Cardiology">Cardiology</option>
                                    <option value="Surgery">Surgery</option>
                                    <option value="Emergency">Emergency Medicine</option>
                                    <option value="Pediatrics">Pediatrics</option>
                                    <option value="Oncology">Oncology</option>
                                    <option value="Orthopedics">Orthopedics</option>
                                    <option value="Neurology">Neurology</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-canvas">
                            <canvas id="physiciansChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="section">
            <div class="section-card">
                <h2 class="section-title"><i class="fas fa-info-circle"></i> About HealthCare Analytics</h2>
                <p class="section-subtitle">Transforming healthcare through data-driven insights and transparent pricing</p>

                <div class="form-grid">
                    <div class="form-card">
                        <h3 class="form-title">Our Mission</h3>
                        <p style="line-height: 1.7; color: #4a5568; margin-bottom: 1.5rem;">
                            We believe healthcare should be transparent, accessible, and data-driven. Our platform empowers patients and providers with real-time insights, accurate cost estimates, and performance analytics to make informed healthcare decisions.
                        </p>
                        <div style="background: rgba(102, 126, 234, 0.1); padding: 1.5rem; border-radius: 15px; border-left: 4px solid #667eea;">
                            <h4 style="margin: 0 0 0.5rem 0; color: #667eea;">Key Features</h4>
                            <ul style="margin: 0; padding-left: 1.2rem; color: #4a5568;">
                                <li>Real-time healthcare cost estimation</li>
                                <li>Physician performance analytics</li>
                                <li>Interactive dashboard with live data</li>
                                <li>Transparent pricing across procedures</li>
                            </ul>
                        </div>
                    </div>

                    <div class="form-card">
                        <h3 class="form-title">Platform Statistics</h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                            <div style="text-align: center; padding: 1.5rem; background: rgba(16, 185, 129, 0.1); border-radius: 15px;">
                                <div style="font-size: 2rem; font-weight: 800; color: #10b981; margin-bottom: 0.5rem;">500+</div>
                                <div style="color: #4a5568; font-weight: 600;">Healthcare Providers</div>
                            </div>
                            <div style="text-align: center; padding: 1.5rem; background: rgba(59, 130, 246, 0.1); border-radius: 15px;">
                                <div style="font-size: 2rem; font-weight: 800; color: #3b82f6; margin-bottom: 0.5rem;">10K+</div>
                                <div style="color: #4a5568; font-weight: 600;">Cost Estimates</div>
                            </div>
                            <div style="text-align: center; padding: 1.5rem; background: rgba(139, 92, 246, 0.1); border-radius: 15px;">
                                <div style="font-size: 2rem; font-weight: 800; color: #8b5cf6; margin-bottom: 0.5rem;">98%</div>
                                <div style="color: #4a5568; font-weight: 600;">Accuracy Rate</div>
                            </div>
                            <div style="text-align: center; padding: 1.5rem; background: rgba(245, 158, 11, 0.1); border-radius: 15px;">
                                <div style="font-size: 2rem; font-weight: 800; color: #f59e0b; margin-bottom: 0.5rem;">24/7</div>
                                <div style="color: #4a5568; font-weight: 600;">Live Analytics</div>
                            </div>
                        </div>
                        
                        <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(102, 126, 234, 0.05); border-radius: 15px; text-align: center;">
                            <h4 style="margin: 0 0 1rem 0; color: #667eea;">Contact Us</h4>
                            <p style="margin: 0; color: #4a5568; line-height: 1.6;">
                                Have questions or need support? Reach out to our team at <strong>support@healthcareanalytics.com</strong> or call <strong>(555) 123-4567</strong>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
    <script>
        // Navigation functionality
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Show target section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to corresponding nav link
            event.target.classList.add('active');
            
            // Load analytics dashboard if analytics section is shown
            if (sectionId === 'analytics') {
                loadDashboardData();
            }
        }

        let chartInstances = {};
        let dashboardData = {};
        let currentTrendsYear = 2024; // Track current year for trends chart
        
        // Year-based healthcare data for synchronized charts
        const healthcareDataByYear = {
            2024: {
                departments: [
                    { department_name: 'Surgery', patient_satisfaction: 4.5, current_occupancy: 0.78, total_patients: 890, average_cost: 12500, quality_score: 95 },
                    { department_name: 'Cardiology', patient_satisfaction: 4.2, current_occupancy: 0.85, total_patients: 1250, average_cost: 8500, quality_score: 92 },
                    { department_name: 'Emergency', patient_satisfaction: 3.8, current_occupancy: 0.92, total_patients: 2100, average_cost: 3200, quality_score: 87 },
                    { department_name: 'Oncology', patient_satisfaction: 4.4, current_occupancy: 0.82, total_patients: 380, average_cost: 15800, quality_score: 91 },
                    { department_name: 'Pediatrics', patient_satisfaction: 4.6, current_occupancy: 0.58, total_patients: 720, average_cost: 4500, quality_score: 93 },
                    { department_name: 'Orthopedics', patient_satisfaction: 4.3, current_occupancy: 0.72, total_patients: 680, average_cost: 9800, quality_score: 90 }
                ],
                physicians: [
                    { first_name: 'Sarah', last_name: 'Johnson', specialty: 'Cardiology', patient_satisfaction: 4.8 },
                    { first_name: 'Michael', last_name: 'Chen', specialty: 'Surgery', patient_satisfaction: 4.7 },
                    { first_name: 'Emily', last_name: 'Rodriguez', specialty: 'Pediatrics', patient_satisfaction: 4.9 },
                    { first_name: 'David', last_name: 'Thompson', specialty: 'Emergency', patient_satisfaction: 4.5 },
                    { first_name: 'Lisa', last_name: 'Park', specialty: 'Oncology', patient_satisfaction: 4.6 },
                    { first_name: 'Robert', last_name: 'Williams', specialty: 'Cardiology', patient_satisfaction: 4.4 },
                    { first_name: 'Jennifer', last_name: 'Davis', specialty: 'Surgery', patient_satisfaction: 4.6 },
                    { first_name: 'James', last_name: 'Miller', specialty: 'Orthopedics', patient_satisfaction: 4.3 },
                    { first_name: 'Maria', last_name: 'Garcia', specialty: 'Neurology', patient_satisfaction: 4.5 },
                    { first_name: 'Christopher', last_name: 'Brown', specialty: 'Emergency', patient_satisfaction: 4.2 },
                    { first_name: 'Amanda', last_name: 'Wilson', specialty: 'Pediatrics', patient_satisfaction: 4.7 },
                    { first_name: 'Kevin', last_name: 'Taylor', specialty: 'Oncology', patient_satisfaction: 4.4 }
                ]
            },
            2023: {
                departments: [
                    { department_name: 'Surgery', patient_satisfaction: 4.3, current_occupancy: 0.75, total_patients: 820, average_cost: 12000, quality_score: 92 },
                    { department_name: 'Cardiology', patient_satisfaction: 4.0, current_occupancy: 0.82, total_patients: 1180, average_cost: 8200, quality_score: 89 },
                    { department_name: 'Emergency', patient_satisfaction: 3.6, current_occupancy: 0.89, total_patients: 1980, average_cost: 3100, quality_score: 84 },
                    { department_name: 'Oncology', patient_satisfaction: 4.2, current_occupancy: 0.79, total_patients: 350, average_cost: 15200, quality_score: 88 },
                    { department_name: 'Pediatrics', patient_satisfaction: 4.4, current_occupancy: 0.55, total_patients: 680, average_cost: 4300, quality_score: 90 },
                    { department_name: 'Orthopedics', patient_satisfaction: 4.1, current_occupancy: 0.69, total_patients: 630, average_cost: 9500, quality_score: 87 }
                ],
                physicians: [
                    { first_name: 'Sarah', last_name: 'Johnson', specialty: 'Cardiology', patient_satisfaction: 4.6 },
                    { first_name: 'Michael', last_name: 'Chen', specialty: 'Surgery', patient_satisfaction: 4.5 },
                    { first_name: 'Emily', last_name: 'Rodriguez', specialty: 'Pediatrics', patient_satisfaction: 4.7 },
                    { first_name: 'David', last_name: 'Thompson', specialty: 'Emergency', patient_satisfaction: 4.3 },
                    { first_name: 'Lisa', last_name: 'Park', specialty: 'Oncology', patient_satisfaction: 4.4 },
                    { first_name: 'Robert', last_name: 'Williams', specialty: 'Cardiology', patient_satisfaction: 4.2 },
                    { first_name: 'Jennifer', last_name: 'Davis', specialty: 'Surgery', patient_satisfaction: 4.4 },
                    { first_name: 'James', last_name: 'Miller', specialty: 'Orthopedics', patient_satisfaction: 4.1 },
                    { first_name: 'Maria', last_name: 'Garcia', specialty: 'Neurology', patient_satisfaction: 4.3 },
                    { first_name: 'Christopher', last_name: 'Brown', specialty: 'Emergency', patient_satisfaction: 4.0 },
                    { first_name: 'Amanda', last_name: 'Wilson', specialty: 'Pediatrics', patient_satisfaction: 4.5 },
                    { first_name: 'Kevin', last_name: 'Taylor', specialty: 'Oncology', patient_satisfaction: 4.2 }
                ]
            },
            2022: {
                departments: [
                    { department_name: 'Surgery', patient_satisfaction: 4.1, current_occupancy: 0.72, total_patients: 750, average_cost: 11500, quality_score: 89 },
                    { department_name: 'Cardiology', patient_satisfaction: 3.8, current_occupancy: 0.79, total_patients: 1120, average_cost: 7900, quality_score: 86 },
                    { department_name: 'Emergency', patient_satisfaction: 3.4, current_occupancy: 0.86, total_patients: 1850, average_cost: 2900, quality_score: 81 },
                    { department_name: 'Oncology', patient_satisfaction: 4.0, current_occupancy: 0.76, total_patients: 320, average_cost: 14800, quality_score: 85 },
                    { department_name: 'Pediatrics', patient_satisfaction: 4.2, current_occupancy: 0.52, total_patients: 640, average_cost: 4100, quality_score: 87 },
                    { department_name: 'Orthopedics', patient_satisfaction: 3.9, current_occupancy: 0.66, total_patients: 580, average_cost: 9200, quality_score: 84 }
                ],
                physicians: [
                    { first_name: 'Sarah', last_name: 'Johnson', specialty: 'Cardiology', patient_satisfaction: 4.4 },
                    { first_name: 'Michael', last_name: 'Chen', specialty: 'Surgery', patient_satisfaction: 4.3 },
                    { first_name: 'Emily', last_name: 'Rodriguez', specialty: 'Pediatrics', patient_satisfaction: 4.5 },
                    { first_name: 'David', last_name: 'Thompson', specialty: 'Emergency', patient_satisfaction: 4.1 },
                    { first_name: 'Lisa', last_name: 'Park', specialty: 'Oncology', patient_satisfaction: 4.2 },
                    { first_name: 'Robert', last_name: 'Williams', specialty: 'Cardiology', patient_satisfaction: 4.0 },
                    { first_name: 'Jennifer', last_name: 'Davis', specialty: 'Surgery', patient_satisfaction: 4.2 },
                    { first_name: 'James', last_name: 'Miller', specialty: 'Orthopedics', patient_satisfaction: 3.9 },
                    { first_name: 'Maria', last_name: 'Garcia', specialty: 'Neurology', patient_satisfaction: 4.1 },
                    { first_name: 'Christopher', last_name: 'Brown', specialty: 'Emergency', patient_satisfaction: 3.8 },
                    { first_name: 'Amanda', last_name: 'Wilson', specialty: 'Pediatrics', patient_satisfaction: 4.3 },
                    { first_name: 'Kevin', last_name: 'Taylor', specialty: 'Oncology', patient_satisfaction: 4.0 }
                ]
            }
        };

        function loadDashboardData() {
            // Use year-specific data
            const yearData = healthcareDataByYear[currentTrendsYear] || healthcareDataByYear[2024];
            const departments = yearData.departments;

            dashboardData.departments = departments;

            // Calculate and display KPIs
            const totalRevenue = departments.reduce((sum, dept) => sum + (dept.total_patients * dept.average_cost), 0);
            const avgSatisfaction = departments.reduce((sum, dept) => sum + dept.patient_satisfaction, 0) / departments.length;
            const avgOccupancy = departments.reduce((sum, dept) => sum + dept.current_occupancy, 0) / departments.length;
            const avgQuality = departments.reduce((sum, dept) => sum + (dept.quality_score || 90), 0) / departments.length;

            document.getElementById('totalRevenue').textContent = formatCurrency(totalRevenue);
            document.getElementById('avgSatisfaction').textContent = avgSatisfaction.toFixed(1) + '/5.0';
            document.getElementById('occupancyRate').textContent = (avgOccupancy * 100).toFixed(1) + '%';
            document.getElementById('qualityScore').textContent = avgQuality.toFixed(1) + '/100';

            // Create charts with current year data
            setTimeout(() => {
                createDepartmentChart(currentTrendsYear);
                createTrendsChart(currentTrendsYear);
                createQualityChart(currentTrendsYear);
                createPhysiciansChart(currentTrendsYear, 'all');
            }, 500);
        }

        function formatCurrency(amount) {
            if (amount >= 1000000000) return '$' + (amount / 1000000000).toFixed(1) + 'B';
            if (amount >= 1000000) return '$' + (amount / 1000000).toFixed(1) + 'M';
            if (amount >= 1000) return '$' + (amount / 1000).toFixed(0) + 'K';
            return '$' + amount.toLocaleString();
        }

        function createDepartmentChart(selectedYear = 2024) {
            const ctx = document.getElementById('departmentChart');
            if (!ctx) return;

            // Use year-specific department data
            const yearData = healthcareDataByYear[selectedYear] || healthcareDataByYear[2024];
            const departments = yearData.departments;
            const metric = document.getElementById('performanceMetric').value;
            let data, label, colors, maxValue, formatter;

            switch(metric) {
                case 'satisfaction':
                    data = departments.map(d => d.patient_satisfaction);
                    label = 'Patient Satisfaction';
                    colors = '#667eea';
                    maxValue = 5;
                    formatter = (value) => value.toFixed(1) + '/5';
                    break;
                case 'revenue':
                    // CRITICAL: Calculate actual different revenue values
                    data = departments.map(d => {
                        const revenue = (d.total_patients * d.average_cost) / 1000000;
                        console.log(`${d.department_name}: $${revenue.toFixed(1)}M`);
                        return revenue;
                    });
                    label = 'Revenue (Millions)';
                    colors = ['#10b981', '#3b82f6', '#ef4444', '#8b5cf6', '#f59e0b', '#6366f1'];
                    maxValue = 25; // FIXED max to show clear differences
                    formatter = (value) => '$' + value.toFixed(1) + 'M';
                    break;
                case 'occupancy':
                    data = departments.map(d => d.current_occupancy * 100);
                    label = 'Occupancy Rate';
                    colors = data.map(val => val >= 85 ? '#ef4444' : val >= 75 ? '#f59e0b' : '#10b981');
                    maxValue = 100;
                    formatter = (value) => value.toFixed(1) + '%';
                    break;
            }

            console.log('📊 Chart Data:', data);
            console.log('📊 Expected Revenue: Surgery=11.1M, Emergency=6.7M, Oncology=6.0M');

            if (chartInstances.departmentChart) {
                chartInstances.departmentChart.destroy();
            }

            chartInstances.departmentChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: departments.map(d => d.department_name),
                    datasets: [{
                        label: label,
                        data: data,
                        backgroundColor: Array.isArray(colors) ? colors : colors,
                        borderRadius: 10,
                        borderSkipped: false,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: maxValue,
                            ticks: {
                                callback: function(value) { return formatter(value); }
                            }
                        }
                    }
                }
            });
        }

        function createTrendsChart(selectedYear = 2024) {
            const ctx = document.getElementById('trendsChart');
            if (!ctx) return;
            
            // All 12 months for better visualization
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            
            // Multi-year data with realistic healthcare patterns
            const yearData = {
                2024: {
                    satisfaction: [4.1, 4.2, 4.0, 4.3, 4.4, 4.5, 4.3, 4.4, 4.6, 4.5, 4.7, 4.6],
                    revenue: [8.2, 7.8, 8.5, 9.1, 9.8, 10.2, 9.9, 10.5, 11.2, 10.8, 11.5, 12.1],
                    volume: [2100, 1950, 2200, 2350, 2500, 2650, 2550, 2700, 2850, 2750, 2900, 3050]
                },
                2023: {
                    satisfaction: [3.9, 4.0, 3.8, 4.1, 4.2, 4.3, 4.1, 4.2, 4.4, 4.3, 4.5, 4.4],
                    revenue: [7.8, 7.4, 8.0, 8.6, 9.2, 9.6, 9.3, 9.9, 10.5, 10.2, 10.8, 11.4],
                    volume: [1950, 1800, 2050, 2200, 2350, 2500, 2400, 2550, 2700, 2600, 2750, 2900]
                },
                2022: {
                    satisfaction: [3.7, 3.8, 3.6, 3.9, 4.0, 4.1, 3.9, 4.0, 4.2, 4.1, 4.3, 4.2],
                    revenue: [7.2, 6.8, 7.4, 8.0, 8.6, 9.0, 8.7, 9.3, 9.9, 9.6, 10.2, 10.8],
                    volume: [1800, 1650, 1900, 2050, 2200, 2350, 2250, 2400, 2550, 2450, 2600, 2750]
                }
            };
            
            const currentData = yearData[selectedYear];
            
            if (chartInstances.trendsChart) {
                chartInstances.trendsChart.destroy();
            }
            
            chartInstances.trendsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'Patient Satisfaction',
                        data: currentData.satisfaction,
                        borderColor: 'rgba(34, 197, 94, 1)',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        borderWidth: 3,
                        pointBackgroundColor: 'rgba(34, 197, 94, 1)',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 2,
                        pointRadius: 6,
                        pointHoverRadius: 8,
                        yAxisID: 'y',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Revenue ($M)',
                        data: currentData.revenue,
                        borderColor: 'rgba(59, 130, 246, 1)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 3,
                        pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 2,
                        pointRadius: 6,
                        pointHoverRadius: 8,
                        yAxisID: 'y1',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Patient Volume',
                        data: currentData.volume,
                        borderColor: 'rgba(139, 92, 246, 1)',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        borderWidth: 3,
                        pointBackgroundColor: 'rgba(139, 92, 246, 1)',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 2,
                        pointRadius: 6,
                        pointHoverRadius: 8,
                        yAxisID: 'y2',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: {
                        duration: 800,
                        easing: 'easeOutQuart'
                    },
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                font: { size: 13, weight: '600' },
                                color: '#1a202c',
                                padding: 20,
                                usePointStyle: true,
                                pointStyle: 'circle'
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(26, 32, 44, 0.9)',
                            titleColor: '#ffffff',
                            bodyColor: '#e2e8f0',
                            borderColor: 'rgba(59, 130, 246, 0.6)',
                            borderWidth: 1,
                            cornerRadius: 8,
                            titleFont: { size: 14, weight: '600' },
                            bodyFont: { size: 12 },
                            padding: 12,
                            displayColors: true,
                            usePointStyle: true,
                            callbacks: {
                                title: function(context) {
                                    return `${context[0].label} ${selectedYear} Performance`;
                                },
                                label: function(context) {
                                    let value = context.parsed.y;
                                    if (context.dataset.label === 'Patient Satisfaction') {
                                        return `${context.dataset.label}: ${value.toFixed(1)}/5.0 ⭐`;
                                    } else if (context.dataset.label === 'Revenue ($M)') {
                                        return `${context.dataset.label}: $${value.toFixed(1)}M 💰`;
                                    } else {
                                        return `${context.dataset.label}: ${value.toLocaleString()} patients 👥`;
                                    }
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: {
                                color: '#4a5568',
                                font: { size: 11, weight: '500' }
                            }
                        },
                        y: { 
                            type: 'linear', 
                            display: true, 
                            position: 'left',
                            min: 3.5,
                            max: 5.0,
                            grid: {
                                color: 'rgba(34, 197, 94, 0.15)',
                                lineWidth: 1
                            },
                            ticks: {
                                color: 'rgba(34, 197, 94, 1)',
                                font: { size: 10, weight: '600' },
                                callback: function(value) {
                                    return value.toFixed(1) + '/5';
                                }
                            },
                            title: {
                                display: true,
                                text: 'Satisfaction ⭐',
                                color: 'rgba(34, 197, 94, 1)',
                                font: { size: 11, weight: '600' }
                            }
                        },
                        y1: { 
                            type: 'linear', 
                            display: true, 
                            position: 'right',
                            min: 6,
                            max: 14,
                            grid: { drawOnChartArea: false },
                            ticks: {
                                color: 'rgba(59, 130, 246, 1)',
                                font: { size: 10, weight: '600' },
                                callback: function(value) {
                                    return '$' + value.toFixed(1) + 'M';
                                }
                            },
                            title: {
                                display: true,
                                text: 'Revenue 💰',
                                color: 'rgba(59, 130, 246, 1)',
                                font: { size: 11, weight: '600' }
                            }
                        },
                        y2: { 
                            type: 'linear', 
                            display: false, 
                            position: 'right',
                            min: 1500,
                            max: 3200
                        }
                    }
                }
            });
        }

        function createQualityChart(selectedYear = 2024) {
            const ctx = document.getElementById('qualityChart');
            if (!ctx) return;

            // Use year-specific quality data
            const yearData = healthcareDataByYear[selectedYear] || healthcareDataByYear[2024];
            const departments = yearData.departments;
            const avgQuality = departments.reduce((sum, dept) => sum + (dept.quality_score || 90), 0) / departments.length;
            
            if (chartInstances.qualityChart) {
                chartInstances.qualityChart.destroy();
            }

            chartInstances.qualityChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Excellent', 'Good', 'Average', 'Poor'],
                    datasets: [{
                        data: [avgQuality, 100-avgQuality-10, 8, 2],
                        backgroundColor: ['#10b981', '#3b82f6', '#f59e0b', '#ef4444']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.parsed.toFixed(1)}% (${selectedYear})`;
                                }
                            }
                        }
                    }
                }
            });
        }

        function createPhysiciansChart(selectedYear = 2024, selectedSpecialty = 'all') {
            const ctx = document.getElementById('physiciansChart');
            if (!ctx) return;

            // Use year-specific physician data
            const yearData = healthcareDataByYear[selectedYear] || healthcareDataByYear[2024];
            let physicians = yearData.physicians;
            
            // Filter by specialty if not 'all'
            if (selectedSpecialty && selectedSpecialty !== 'all') {
                physicians = physicians.filter(p => p.specialty === selectedSpecialty);
            }
            
            // Sort by satisfaction and take top performers
            const topPhysicians = physicians
                .sort((a, b) => (b.patient_satisfaction || 0) - (a.patient_satisfaction || 0))
                .slice(0, 5); // Top 5 physicians
            
            if (chartInstances.physiciansChart) {
                chartInstances.physiciansChart.destroy();
            }

            chartInstances.physiciansChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: topPhysicians.map(p => `Dr. ${p.first_name} ${p.last_name.charAt(0)}.`),
                    datasets: [{
                        label: `${selectedYear} Patient Satisfaction${selectedSpecialty !== 'all' ? ` (${selectedSpecialty})` : ''}`,
                        data: topPhysicians.map(p => p.patient_satisfaction),
                        backgroundColor: selectedSpecialty !== 'all' ? 
                            getSpecialtyColor(selectedSpecialty) : '#8b5cf6',
                        borderRadius: 8
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { 
                        legend: { display: true },
                        tooltip: {
                            callbacks: {
                                title: function(context) {
                                    const index = context[0].dataIndex;
                                    const physician = topPhysicians[index];
                                    return `Dr. ${physician.first_name} ${physician.last_name} (${physician.specialty})`;
                                },
                                label: function(context) {
                                    return `${selectedYear} Satisfaction: ${context.parsed.x.toFixed(1)}/5.0`;
                                },
                                afterBody: function(context) {
                                    const index = context[0].dataIndex;
                                    const physician = topPhysicians[index];
                                    const score = physician.patient_satisfaction;
                                    let performance = 'Excellent';
                                    if (score < 4.0) performance = 'Good';
                                    else if (score < 4.5) performance = 'Very Good';
                                    return [`Performance Level: ${performance} ⭐`];
                                }
                            }
                        }
                    },
                    scales: { 
                        x: { 
                            max: 5,
                            title: {
                                display: true,
                                text: 'Patient Satisfaction Score'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: selectedSpecialty !== 'all' ? selectedSpecialty : 'All Specialties'
                            }
                        }
                    }
                }
            });
        }
        
        // Helper function to get specialty-specific colors
        function getSpecialtyColor(specialty) {
            const colors = {
                'Cardiology': '#ef4444',    // Red - heart
                'Surgery': '#3b82f6',       // Blue - precision
                'Emergency': '#f59e0b',     // Orange - urgency
                'Pediatrics': '#10b981',    // Green - growth
                'Oncology': '#8b5cf6',      // Purple - specialty
                'Orthopedics': '#6366f1',   // Indigo - structure
                'Neurology': '#ec4899'      // Pink - brain
            };
            return colors[specialty] || '#8b5cf6';
        }
        
        // Function to update physicians chart when specialty changes
        function updatePhysiciansChart() {
            const selectedSpecialty = document.getElementById('physicianSpecialty').value;
            createPhysiciansChart(currentTrendsYear, selectedSpecialty);
        }

        // Chart metric change handler
        document.addEventListener('DOMContentLoaded', function() {
            const performanceMetric = document.getElementById('performanceMetric');
            if (performanceMetric) {
                performanceMetric.addEventListener('change', function() {
                    createDepartmentChart(currentTrendsYear);
                });
            }
        });
        
        /**
         * Change Trends Chart Year
         * Updates all dashboard charts to show data for the selected year
         */
        function changeTrendsYear(year) {
            // Update current year
            currentTrendsYear = year;
            
            // Update active tab styling
            document.querySelectorAll('.year-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-year="${year}"]`).classList.add('active');
            
            // Update KPIs for the selected year
            const yearData = healthcareDataByYear[year] || healthcareDataByYear[2024];
            const departments = yearData.departments;
            
            // Calculate year-specific KPIs
            const totalRevenue = departments.reduce((sum, dept) => sum + (dept.total_patients * dept.average_cost), 0);
            const avgSatisfaction = departments.reduce((sum, dept) => sum + dept.patient_satisfaction, 0) / departments.length;
            const avgOccupancy = departments.reduce((sum, dept) => sum + dept.current_occupancy, 0) / departments.length;
            const avgQuality = departments.reduce((sum, dept) => sum + (dept.quality_score || 90), 0) / departments.length;
            
            // Update KPI displays
            document.getElementById('totalRevenue').textContent = formatCurrency(totalRevenue);
            document.getElementById('avgSatisfaction').textContent = avgSatisfaction.toFixed(1) + '/5.0';
            document.getElementById('occupancyRate').textContent = (avgOccupancy * 100).toFixed(1) + '%';
            document.getElementById('qualityScore').textContent = avgQuality.toFixed(1) + '/100';
            
            // Update all synchronized charts
            setTimeout(() => {
                const selectedSpecialty = document.getElementById('physicianSpecialty').value;
                createTrendsChart(year);
                createDepartmentChart(year);
                createQualityChart(year);
                createPhysiciansChart(year, selectedSpecialty);
            }, 100);
            
            console.log(`📅 Dashboard synchronized to ${year} data`);
        }
        
        // Make function globally available
        window.changeTrendsYear = changeTrendsYear;
    </script>
</body>
</html>